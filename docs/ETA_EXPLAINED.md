# ğŸ“Š æ—¥å¿—ä¸­çš„ ETA è¯¦è§£

## ğŸ¯ ETA æ˜¯ä»€ä¹ˆ

**ETA** = **Estimated Time of Arrival** (é¢„è®¡åˆ°è¾¾æ—¶é—´)

åœ¨è¯„ä¼°è„šæœ¬çš„æ—¥å¿—ä¸­ï¼ŒETA è¡¨ç¤º **é¢„è®¡å‰©ä½™å®Œæˆæ—¶é—´**ã€‚

---

## ğŸ“ æ—¥å¿—ç¤ºä¾‹

```
[10/600] Processing: original | Rate: 0.85 papers/s | ETA: 11m 35s
```

### å­—æ®µè§£é‡Š

| å­—æ®µ | å«ä¹‰ | ç¤ºä¾‹ |
|------|------|------|
| `[10/600]` | å½“å‰è¿›åº¦ | å·²å®Œæˆ 10 ä¸ªï¼Œæ€»å…± 600 ä¸ª |
| `Processing: original` | å½“å‰å˜ä½“ç±»å‹ | æ­£åœ¨è¯„ä¼° original å˜ä½“ |
| `Rate: 0.85 papers/s` | å¤„ç†é€Ÿåº¦ | æ¯ç§’è¯„ä¼° 0.85 ä¸ªæ ·æœ¬ |
| `ETA: 11m 35s` | **é¢„è®¡å‰©ä½™æ—¶é—´** | è¿˜éœ€è¦ 11 åˆ†é’Ÿ 35 ç§’ |

---

## ğŸ”¢ ETA å¦‚ä½•è®¡ç®—

### è®¡ç®—å…¬å¼

```python
# 1. å·²ç”¨æ—¶é—´
elapsed = å½“å‰æ—¶é—´ - å¼€å§‹æ—¶é—´

# 2. å¤„ç†é€Ÿåº¦
rate = å·²å®Œæˆæ•°é‡ / å·²ç”¨æ—¶é—´  # papers/s

# 3. å‰©ä½™æ—¶é—´
eta_seconds = (æ€»æ•°é‡ - å·²å®Œæˆæ•°é‡) / rate

# 4. æ ¼å¼åŒ–ä¸º åˆ†é’Ÿ + ç§’
eta_str = f"{int(eta_seconds // 60)}m {int(eta_seconds % 60)}s"
```

### å…·ä½“ç¤ºä¾‹

**å‡è®¾**ï¼š
- æ€»å…± 600 ä¸ªæ ·æœ¬
- å·²å®Œæˆ 10 ä¸ª
- å·²ç”¨æ—¶é—´ 12 ç§’

**è®¡ç®—**ï¼š
```
é€Ÿåº¦ = 10 / 12 = 0.83 papers/s
å‰©ä½™æ ·æœ¬ = 600 - 10 = 590
å‰©ä½™æ—¶é—´ = 590 / 0.83 = 710 ç§’ = 11m 50s
```

**æ—¥å¿—æ˜¾ç¤º**ï¼š
```
[10/600] Processing: original | Rate: 0.83 papers/s | ETA: 11m 50s
```

---

## â±ï¸ ETA çš„å˜åŒ–è§„å¾‹

### åˆå§‹é˜¶æ®µï¼ˆä¸å‡†ç¡®ï¼‰

```
[1/600] Processing: original | Rate: 809.06 papers/s | ETA: 0m 0s
```

- âš ï¸ **éå¸¸ä¸å‡†ç¡®**ï¼
- åŸå› ï¼šè¿™æ˜¯æ•°æ®åŠ è½½é€Ÿåº¦ï¼Œä¸æ˜¯ LLM æ¨ç†é€Ÿåº¦
- å»ºè®®ï¼š**å¿½ç•¥å‰ 5-10 ä¸ªæ ·æœ¬çš„ ETA**

### ç¨³å®šé˜¶æ®µï¼ˆå‡†ç¡®ï¼‰

```
[50/600] Processing: no_abstract | Rate: 0.85 papers/s | ETA: 10m 47s
[100/600] Processing: original | Rate: 0.82 papers/s | ETA: 10m 9s
[150/600] Processing: no_conclusion | Rate: 0.83 papers/s | ETA: 9m 2s
```

- âœ… **æ¯”è¾ƒå‡†ç¡®**
- åŸå› ï¼šå·²æœ‰è¶³å¤Ÿæ ·æœ¬è®¡ç®—å¹³å‡é€Ÿåº¦
- å»ºè®®ï¼š**å‚è€ƒ 10+ ä¸ªæ ·æœ¬åçš„ ETA**

### æ¥è¿‘å®Œæˆï¼ˆæœ€å‡†ç¡®ï¼‰

```
[550/600] Processing: no_methods | Rate: 0.84 papers/s | ETA: 0m 59s
[590/600] Processing: original | Rate: 0.84 papers/s | ETA: 0m 11s
```

- âœ… **éå¸¸å‡†ç¡®**
- é€Ÿåº¦å·²åŸºæœ¬ç¨³å®š

---

## ğŸ“Š å®é™…è¯„ä¼°é€Ÿåº¦èŒƒå›´

### å…¸å‹é€Ÿåº¦ï¼ˆ8B æ¨¡å‹ï¼ŒGPUï¼‰

| è®ºæ–‡é•¿åº¦ | é€Ÿåº¦ (papers/s) | æ¯æ ·æœ¬è€—æ—¶ |
|---------|----------------|-----------|
| çŸ­ (< 20K å­—ç¬¦) | 1.0 - 2.0 | 0.5 - 1 ç§’ |
| ä¸­ (20-40K å­—ç¬¦) | 0.5 - 1.0 | 1 - 2 ç§’ |
| é•¿ (> 40K å­—ç¬¦) | 0.3 - 0.5 | 2 - 3 ç§’ |

**æ³¨æ„**ï¼šè¿™æ˜¯**æ•°æ®å¤„ç†é€Ÿåº¦**ï¼Œä¸åŒ…æ‹¬ LLM æ¨ç†æ—¶é—´ï¼

### åŒ…å« LLM æ¨ç†çš„å®é™…é€Ÿåº¦

| åœºæ™¯ | é€Ÿåº¦ (papers/s) | æ¯æ ·æœ¬è€—æ—¶ | 600 æ ·æœ¬æ€»æ—¶é—´ |
|------|----------------|-----------|----------------|
| **æœ€å¿«**ï¼ˆå¼º GPU + çŸ­æ–‡æœ¬ï¼‰ | 0.05 - 0.10 | 10 - 20 ç§’ | **1.7 - 3.3 å°æ—¶** |
| **å¹³å‡**ï¼ˆGPU + ä¸­ç­‰æ–‡æœ¬ï¼‰ | 0.025 - 0.05 | 20 - 40 ç§’ | **3.3 - 6.7 å°æ—¶** |
| **æ…¢**ï¼ˆCPU æˆ–é•¿æ–‡æœ¬ï¼‰ | 0.01 - 0.02 | 50 - 100 ç§’ | **8.3 - 16.7 å°æ—¶** |

---

## ğŸ” å¦‚ä½•åˆ¤æ–­ ETA æ˜¯å¦å‡†ç¡®

### âœ… å‡†ç¡®çš„ ETA ç‰¹å¾

1. **ç¨³å®šçš„ Rate**
   ```
   [50/600] Rate: 0.84 papers/s | ETA: 10m 54s
   [60/600] Rate: 0.83 papers/s | ETA: 10m 50s
   [70/600] Rate: 0.83 papers/s | ETA: 10m 38s
   ```
   - Rate åœ¨ 0.83-0.84 ä¹‹é—´æ³¢åŠ¨å¾ˆå°

2. **é€’å‡çš„ ETA**
   ```
   [100/600] ETA: 10m 0s
   [200/600] ETA: 8m 0s
   [300/600] ETA: 6m 0s
   ```
   - ETA éšè¿›åº¦å¹³ç¨³ä¸‹é™

### âŒ ä¸å‡†ç¡®çš„ ETA ç‰¹å¾

1. **åˆå§‹é˜¶æ®µçš„è¶…é«˜é€Ÿåº¦**
   ```
   [1/600] Rate: 809.06 papers/s | ETA: 0m 0s
   ```
   - è¿™æ˜¯æ•°æ®åŠ è½½é€Ÿåº¦ï¼Œå¿½ç•¥å®ƒ

2. **å‰§çƒˆæ³¢åŠ¨çš„ Rate**
   ```
   [50/600] Rate: 0.85 papers/s | ETA: 10m 47s
   [60/600] Rate: 0.45 papers/s | ETA: 20m 0s  â† çªç„¶å˜æ…¢
   [70/600] Rate: 0.90 papers/s | ETA: 9m 48s  â† åˆå˜å¿«
   ```
   - å¯èƒ½æ˜¯ï¼š
     - æŸäº›è®ºæ–‡ç‰¹åˆ«é•¿/çŸ­
     - GPU å ç”¨æ³¢åŠ¨
     - ç³»ç»Ÿè´Ÿè½½å˜åŒ–

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. ä½•æ—¶æŸ¥çœ‹ ETA

```bash
# å®šæœŸæŸ¥çœ‹æ—¥å¿—ï¼ˆæ¯ 5-10 åˆ†é’Ÿï¼‰
tail -f evaluation_logs/evaluation_log_*.txt | grep ETA
```

### 2. æ‰‹åŠ¨ä¼°ç®—

å¦‚æœæƒ³è‡ªå·±è®¡ç®—ï¼š

```python
# å½“å‰è¿›åº¦ï¼š100/600ï¼Œå·²ç”¨æ—¶ 30 åˆ†é’Ÿ

å½“å‰é€Ÿåº¦ = 100 / (30 * 60) = 0.056 papers/s
å‰©ä½™æ ·æœ¬ = 600 - 100 = 500
å‰©ä½™æ—¶é—´ = 500 / 0.056 = 8929 ç§’ â‰ˆ 149 åˆ†é’Ÿ â‰ˆ 2.5 å°æ—¶
```

### 3. å®æ—¶ç›‘æ§è„šæœ¬

åˆ›å»ºä¸€ä¸ªç›‘æ§è„šæœ¬ï¼š

```python
# monitor_eta.py
import re
from datetime import datetime

# è¯»å–æ—¥å¿—æœ€åä¸€è¡ŒåŒ…å« ETA çš„è®°å½•
with open('evaluation_logs/evaluation_log_*.txt', 'r') as f:
    for line in f:
        if 'ETA:' in line:
            latest_eta = line

# æå–å¹¶æ˜¾ç¤º
match = re.search(r'\[(\d+)/(\d+)\].*Rate: ([\d.]+).*ETA: ([\dm\s]+)', latest_eta)
if match:
    current, total, rate, eta = match.groups()
    print(f"è¿›åº¦: {current}/{total} ({int(current)/int(total)*100:.1f}%)")
    print(f"é€Ÿåº¦: {rate} papers/s")
    print(f"å‰©ä½™æ—¶é—´: {eta}")
```

---

## ğŸ¯ å®é™…ç¤ºä¾‹è§£è¯»

### ç¤ºä¾‹ 1ï¼šæ­£å¸¸è¿è¡Œ

```log
2026-02-06 22:14:01 | [10/600] Processing: original | Rate: 0.85 papers/s | ETA: 11m 35s
2026-02-06 22:15:12 | [20/600] Processing: no_abstract | Rate: 0.84 papers/s | ETA: 11m 30s
2026-02-06 22:16:24 | [30/600] Processing: no_introduction | Rate: 0.83 papers/s | ETA: 11m 27s
```

**è§£è¯»**ï¼š
- âœ… é€Ÿåº¦ç¨³å®šåœ¨ 0.83-0.85
- âœ… ETA åŸºæœ¬ç¨³å®š
- âœ… é¢„è®¡ 11-12 åˆ†é’Ÿå®Œæˆ
- âœ… å®é™…å®Œæˆæ—¶é—´åº”è¯¥åœ¨ **22:26 å·¦å³**

### ç¤ºä¾‹ 2ï¼šé€Ÿåº¦æ³¢åŠ¨

```log
2026-02-06 22:14:01 | [10/600] Rate: 0.85 papers/s | ETA: 11m 35s
2026-02-06 22:18:30 | [20/600] Rate: 0.40 papers/s | ETA: 24m 10s  â† å˜æ…¢äº†
2026-02-06 22:20:15 | [30/600] Rate: 0.50 papers/s | ETA: 19m 0s
```

**è§£è¯»**ï¼š
- âš ï¸ é€Ÿåº¦ä» 0.85 é™åˆ° 0.40-0.50
- âš ï¸ ETA ä» 11 åˆ†é’Ÿå¢åŠ åˆ° 19-24 åˆ†é’Ÿ
- å¯èƒ½åŸå› ï¼š
  - é‡åˆ°äº†ç‰¹åˆ«é•¿çš„è®ºæ–‡
  - GPU èµ„æºè¢«å…¶ä»–è¿›ç¨‹å ç”¨
  - ç³»ç»Ÿè´Ÿè½½å¢åŠ 

---

## ğŸ“‹ FAQ

### Q: ETA ä¸ºä»€ä¹ˆä¸å‡†ï¼Ÿ

**A**: å‰ 5-10 ä¸ªæ ·æœ¬çš„ ETA ä¼šéå¸¸ä¸å‡†ï¼Œå› ä¸ºï¼š
- åˆå§‹é€Ÿåº¦æ˜¯æ•°æ®åŠ è½½é€Ÿåº¦ï¼Œä¸æ˜¯ LLM æ¨ç†é€Ÿåº¦
- æ ·æœ¬æ•°å¤ªå°‘ï¼Œç»Ÿè®¡ä¸ç¨³å®š
- **å»ºè®®**ï¼š10 ä¸ªæ ·æœ¬å ETA ä¼šç¨³å®š

### Q: ETA æ˜¾ç¤º 0m 0s æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

**A**: 
- ç¬¬ 1 ä¸ªæ ·æœ¬ï¼šæ­£åœ¨è®¡ç®—ï¼Œè¿˜æ²¡æœ‰é€Ÿåº¦æ•°æ®
- æœ€åå‡ ä¸ªæ ·æœ¬ï¼šå³å°†å®Œæˆï¼ˆå‰©ä½™æ—¶é—´ < 1 ç§’ï¼‰

### Q: å¦‚ä½•åŠ å¿«é€Ÿåº¦ï¼Ÿ

**A**:
1. ä½¿ç”¨æ›´å¼ºçš„ GPU
2. ä½¿ç”¨æ›´å°çš„æ¨¡å‹ï¼ˆå¦‚ 4B ä»£æ›¿ 8Bï¼‰
3. å‡å°‘æ ·æœ¬æ•°é‡
4. ä½¿ç”¨æ›´çŸ­çš„è®ºæ–‡

### Q: ETA ä¼šè‡ªåŠ¨æ›´æ–°å—ï¼Ÿ

**A**: æ˜¯çš„ï¼Œæ¯å¤„ç† 10 ä¸ªæ ·æœ¬ä¼šé‡æ–°è®¡ç®—å¹¶æ›´æ–° ETA

---

## âœ… æ€»ç»“

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| **ETA å«ä¹‰** | é¢„è®¡å‰©ä½™å®Œæˆæ—¶é—´ |
| **è®¡ç®—æ–¹å¼** | (å‰©ä½™æ ·æœ¬ / å½“å‰é€Ÿåº¦) |
| **æ›´æ–°é¢‘ç‡** | æ¯ 10 ä¸ªæ ·æœ¬ |
| **å‡†ç¡®æ€§** | 10+ æ ·æœ¬åè¾ƒå‡†ç¡® |
| **å…¸å‹é€Ÿåº¦** | 0.02-0.10 papers/sï¼ˆåŒ…å« LLM æ¨ç†ï¼‰|
| **600 æ ·æœ¬** | é¢„è®¡ 3-10 å°æ—¶ |

**å…³é”®å»ºè®®**ï¼š
- â° å‰ 10 ä¸ªæ ·æœ¬çš„ ETA **ä¸å‡†ç¡®**ï¼Œå¿½ç•¥å®ƒ
- âœ… 10 ä¸ªæ ·æœ¬åçš„ ETA **æ¯”è¾ƒå‡†ç¡®**
- ğŸ“Š å®šæœŸæŸ¥çœ‹æ—¥å¿—ç›‘æ§è¿›åº¦
- ğŸ¯ ä½¿ç”¨ç¨³å®šçš„ Rate æ¥åˆ¤æ–­ ETA å¯é æ€§

